import random
import numpy as np
def generate_rail_travel_times(divisions_per_day):
    travel_time_by_rail = {(1, 1): 1, (1, 2): 8, (1, 3): 12, (1, 4): 11, (1, 5): 12, (1, 6): 15, (1, 7): 14, (1, 8): 12, (1, 9): 10, (1, 10): 18, # Fort Hood
                        (2, 1): 19, (2, 2): 23, (2, 3): 27, (2, 4): 21, (2, 5): 25, (2, 6): 22, (2, 7): 7, (2, 8): 9, (2, 9): 12, (2, 10): 1, # Fort Lewis
                        (3, 1): 5, (3, 2): 5, (3, 3): 7, (3, 4): 6, (3, 5): 8, (3, 6): 6, (3, 7): 19, (3, 8): 19, (3, 9): 19, (3, 10): 17, # Camp Atterbury
                        (4, 1): 8, (4, 2): 11, (4, 3): 13, (4, 4): 13, (4, 5): 19, (4, 6): 17, (4, 7): 10, (4, 8): 7, (4, 9): 8, (4, 10): 13, # Fort Bliss
                        (5, 1): 15, (5, 2): 14, (5, 3): 21, (5, 4): 20, (5, 5): 21, (5, 6): 24, (5, 7): 8, (5, 8): 4, (5, 9): 1, (5, 10): 9, # Camp Pendleton
                        (6, 1): 7, (6, 2): 8, (6, 3): 4, (6, 4): 2, (6, 5): 4, (6, 6): 6, (6, 7): 23, (6, 8): 21, (6, 9): 22, (6, 10): 23, # Fort Stewart
                        (7, 1): 11, (7, 2): 8, (7, 3): 1, (7, 4): 2, (7, 5): 4, (7, 6): 1, (7, 7): 22, (7, 8): 24, (7, 9): 21, (7, 10): 27, # Fort Bragg
                        (8, 1): 9, (8, 2): 9, (8, 3): 11, (8, 4): 11, (8, 5): 9, (8, 6): 9, (8, 7): 17, (8, 8): 20, (8, 9): 18, (8, 10): 13, # Fort McCoy
                        (9, 1): 6, (9, 2): 10, (9, 3): 15, (9, 4): 13, (9, 5): 20, (9, 6): 16, (9, 7): 9, (9, 8): 11, (9, 9): 10, (9, 10): 9, # Fort Carson
                        (10, 1): 10, (10, 2): 8, (10, 3): 1, (10, 4): 7, (10, 5): 4, (10, 6): 4, (10, 7): 25, (10, 8): 24, (10, 9): 21, (10, 10): 25, # Camp Lejeune
                        (11, 1): 7, (11, 2): 6, (11, 3): 8, (11, 4): 8, (11, 5): 8, (11, 6): 5, (11, 7): 20, (11, 8): 20, (11, 9): 19, (11, 10): 17, # Fort Campbell
                        (12, 1): 8, (12, 2): 5, (12, 3): 9, (12, 4): 11, (12, 5): 10, (12, 6): 10, (12, 7): 15, (12, 8): 15, (12, 9): 14, (12, 10): 15, # Fort Riley
                        (13, 1): 14, (13, 2): 11, (13, 3): 5, (13, 4): 9, (13, 5): 7, (13, 6): 6, (13, 7): 24, (13, 8): 21, (13, 9): 21, (13, 10): 21, # Fort Drum
                        (14, 1): 12, (14, 2): 11, (14, 3): 8, (14, 4): 6, (14, 5): 6, (14, 6): 1, (14, 7): 21, (14, 8): 23, (14, 9): 22, (14, 10): 21, # Fort Dix
                        (15, 1): 2, (15, 2): 3, (15, 3): 10, (15, 4): 8, (15, 5): 11, (15, 6): 10, (15, 7): 17, (15, 8): 13, (15, 9): 13, (15, 10): 20, # Fort Polk
                        (16, 1): 5, (16, 2): 8, (16, 3): 10, (16, 4): 12, (16, 5): 16, (16, 6): 15, (16, 7): 13, (16, 8): 16, (16, 9): 13, (16, 10): 20, # Fort Sill
                        (17, 1): 13, (17, 2): 15, (17, 3): 23, (17, 4): 18, (17, 5): 22, (17, 6): 23, (17, 7): 4, (17, 8): 4, (17, 9): 3, (17, 10): 11, # Fort Irwin
                        (18, 1): 8, (18, 2): 7, (18, 3): 5, (18, 4): 7, (18, 5): 5, (18, 6): 6, (18, 7): 20, (18, 8): 17, (18, 9): 17, (18, 10): 18,  # Fort Knox
                        (19, 1): 6, (19, 2): 5, (19, 3): 11, (19, 4): 12, (19, 5): 12, (19, 6): 11, (19, 7): 17, (19, 8): 16, (19, 9): 13, (19, 10): 17, # Fort Leonard Wood
                        (20, 1): 4, (20, 2): 3, (20, 3): 7, (20, 4): 7, (20, 5): 8, (20, 6): 8, (20, 7): 18, (20, 8): 18, (20, 9): 18, (20, 10): 21} # Camp Shelby

    travel_time_by_rail = {
        key: value + random.uniform(-0.5, 0.4999999999999999)
        for key, value in travel_time_by_rail.items()
    }



    interval_adj_travel_time_by_rail = {
        key: round(value * divisions_per_day)
        for key, value in travel_time_by_rail.items()
    }

    # Assumptions
    CV = 0.2                   # 20% variability
    rail_travel_times = {}

    for (A, B), mean_travel_time in interval_adj_travel_time_by_rail.items():
        sigma = np.sqrt(np.log(CV**2 + 1))
        mu = np.log(mean_travel_time) - (sigma**2 / 2)
        rail_travel_times[(A, B+20, 0)] = max(round(np.random.lognormal(mean=mu, sigma=sigma)),1)
    return rail_travel_times
